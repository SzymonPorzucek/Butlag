{"version":3,"sources":["src/js/validation.js","src/js/page/contact.js","src/js/pageFunctions.js"],"names":["clearErrorMsg","input","errorMsg","addEventListener","textContent","contactNameInput","document","querySelector","contactEmailInput","contactMsgTextaera","ancestorClass","redirect","href","contactSendBtn","contactErrorName","contactErrorEmail","contactErrorMsg","contactSuccessInfo","sendMsg","contactData","response","await","fetch","method","headers","Content-Type","body","JSON","stringify","console","log","ok","Error","popupClass","style","display","setTimeout","opacity","visibility","overflow","value","result","json","error","validAndSend","test","name","email","message","timestamp","Date","toISOString","event","preventDefault","querySelectorAll","forEach","button","ancestor","this","closest","window","location"],"mappings":"wPAAA,MAAMA,EAAgB,CAACC,EAAOC,KAC7BD,EAAME,iBAAiB,QAAS,KAC/BD,EAASE,YAAc,EACzB,CAAE,CACF,E,cCF2B,KAC1B,MAAMC,EAAmBC,SAASC,cAAc,qBAAqB,EAC/DC,EAAoBF,SAASC,cAAc,sBAAsB,EACjEE,EAAqBH,SAASC,cAAc,cAAc,EDLjE,IEiB2BG,EAAeC,EAAkBC,EFjBtDC,EAAiBP,SAAOC,cAAa,mBAAA,EAC3C,MAAMO,EAAkBR,SAASC,cAAM,qBAAA,EACrCQ,EAAuBT,SAAGC,cAAA,sBAAA,EACxBS,EAAAV,SAAAC,cAAA,oBAAA,EACFU,EAAAX,SAAAC,cAAA,uBAAA,EAEWW,EAAaC,MAAAA,IACzB,IAEC,IAAAC,EAASC,MAAcC,MAAG,oCAAA,CAC1BC,OAAM,OACNC,QAAS,CACTC,eAAA,kBCOF,EDIAC,KAAAC,KAAAC,UAAAT,CAAA,CCFA,CDGO,EAEN,GADAU,QAAAC,IAAaH,KAACC,UAAOT,CAAU,CAAA,EAC/B,CAAMC,EAAAW,GACN,MAAI,IAAAC,MAAW,2BAAmB,GESVC,EFJvBhB,GEKUiB,MAAMC,QAAU,OAC3BC,WAAW,KACVH,EAAWC,MAAMG,QAAU,IAC3BJ,EAAWC,MAAMI,WAAa,SAChC,EAAI,GAAG,EACNhC,SAASoB,KAAKQ,MAAMK,SAAW,SFThClC,EAAAmC,MAAA,GACOhC,EAAkBgC,MAAO,GAC/B/B,EAAmB+B,MAAE,GAEpB,IAAAC,EAASpB,MAAWD,EAAMsB,KAAA,EAC1Bb,QAAMC,IAAA,OAAAW,CAAA,CCAR,CDCE,MAAQE,GACRd,QAAAc,MAAA,6BAAAA,CAAA,CCFF,CCFyBV,IAAAA,CDGzB,ECrBCW,EAAkB,KFZO3C,EEafI,EFbsBH,EEaJY,EFZ5Bd,EAAcC,EAAOC,CAAQ,EACT,KAAhBD,EAAMuC,MACTtC,EAASE,YAAc,GAEvBF,EAASE,YAAc,mBALA,IAkBEH,EEJlBO,EFIyBN,EEJRa,EFKzBf,EAAcC,EAAOC,CAAQ,EACV,6BACJ2C,KAAK5C,EAAMuC,KAAK,EAC9BtC,EAASE,YAAc,GAEvBF,EAASE,YAAc,wBAIAH,EEbhBQ,EFauBP,EEbPc,EFcxBhB,EAAcC,EAAOC,CAAQ,EACT,KAAhBD,EAAMuC,MACTtC,EAASE,YAAc,GAEvBF,EAASE,YAAc,sBEhBQ,KAAjCU,EAAmBV,aACa,KAAhCY,EAAkBZ,aACG,KAArBW,EAAeX,cAEVe,EAAc,CACnB2B,KAASzC,EAAgBmC,MACzBO,MAAMvC,EAAoBgC,MAC1BQ,QAAMvC,EAAA+B,MACNS,WAAY,IAAAC,MAAAC,YAAA,CDwBZ,ECtBAjC,EAAKC,CAAA,EDyBL,ECrBAN,EAAYV,iBAAgB,QAAOiD,IAClCA,EAAAC,eAAiB,EAClBT,EAAa,CDwBb,CCvBA,EAvB0CjC,EAAW,EAA1BD,EAyBjB,yBAxBSJ,SAASgD,iBAAiB,YAAY,EAC9CC,QAAQ,SAAUC,GAC3BA,EAAOrD,iBAAiB,QAAS,WAChC,MAAMsD,EAAWC,KAAKC,QAAQjD,CAAa,EACvC+C,IACHA,EAASvB,MAAMG,QAAU,IACzBoB,EAASvB,MAAMI,WAAa,SAC5BF,WAAW,KACVqB,EAASvB,MAAMC,QAAU,OACzB7B,SAASoB,KAAKQ,MAAMK,SAAW,UAC3B5B,GAAYC,IACfgD,OAAOC,SAASjD,KAAO,GAAGA,EAEhC,EAAO,GAAG,EAEV,CAAG,CACH,CAAE,CDgCF,C","file":"contact.min.js","sourcesContent":["const clearErrorMsg = (input, errorMsg) => {\r\n\tinput.addEventListener('input', () => {\r\n\t\terrorMsg.textContent = '';\r\n\t});\r\n};\r\n\r\nexport const validName = (input, errorMsg) => {\r\n\tclearErrorMsg(input, errorMsg);\r\n\tif (input.value !== '') {\r\n\t\terrorMsg.textContent = '';\r\n\t} else {\r\n\t\terrorMsg.textContent = 'Enter your name.';\r\n\t}\r\n};\r\n\r\nexport const validLastname = (input, errorMsg) => {\r\n\tclearErrorMsg(input, errorMsg);\r\n\tif (input.value !== '') {\r\n\t\terrorMsg.textContent = '';\r\n\t} else {\r\n\t\terrorMsg.textContent = 'Enter your last name.';\r\n\t}\r\n};\r\n\r\nexport const validEmail = (input, errorMsg) => {\r\n\tclearErrorMsg(input, errorMsg);\r\n\tconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\tif (emailRegex.test(input.value)) {\r\n\t\terrorMsg.textContent = '';\r\n\t} else {\r\n\t\terrorMsg.textContent = 'Enter correct e-mail.';\r\n\t}\r\n};\r\n\r\nexport const validMsg = (input, errorMsg) => {\r\n\tclearErrorMsg(input, errorMsg);\r\n\tif (input.value !== '') {\r\n\t\terrorMsg.textContent = '';\r\n\t} else {\r\n\t\terrorMsg.textContent = 'Enter your message.';\r\n\t}\r\n};\r\nexport const validNewPassword = (\r\n\tinput,\r\n\terrorMsg,\r\n\tinputRepeat,\r\n\terrorMsgRepeat\r\n) => {\r\n\tclearErrorMsg(input, errorMsg);\r\n\tclearErrorMsg(inputRepeat, errorMsgRepeat);\r\n\tconst password = input.value;\r\n\tconst passwordRepeat = inputRepeat.value;\r\n\tconst minLength = password.length >= 8;\r\n\tconst hasUpperCase = /[A-Z]/.test(password);\r\n\tconst hasTwoDigits = /(\\d.*){2,}/.test(password);\r\n\tconst hasSpecialChars = /[!@#$%^&*(),.?\":{}|<>]/.test(password);\r\n\tconst onlyEnglishChars = /^[A-Za-z0-9!@#$%^&*(),.?\":{}|<>]*$/.test(password);\r\n\tif (\r\n\t\tminLength &&\r\n\t\thasUpperCase &&\r\n\t\thasTwoDigits &&\r\n\t\thasSpecialChars &&\r\n\t\tonlyEnglishChars\r\n\t) {\r\n\t\terrorMsg.textContent = '';\r\n\t} else {\r\n\t\terrorMsg.textContent =\r\n\t\t\t'Password is not strong enough. Check question mark up there.';\r\n\t}\r\n\tif (password === passwordRepeat) {\r\n\t\terrorMsgRepeat.textContent = '';\r\n\t} else {\r\n\t\terrorMsgRepeat.textContent = 'Passwords are not the same.';\r\n\t}\r\n};\r\nexport const validCheckBox = (checkbox, errorMsg, event) => {\r\n\tif (!checkbox.checked) {\r\n\t\tevent.preventDefault();\r\n\t\terrorMsg.textContent = 'Accept terms and conditions!';\r\n\t} else {\r\n\t\terrorMsg.textContent = '';\r\n\t}\r\n};\r\n","import { validName, validEmail, validMsg } from '../validation.js';\r\nimport { closePopup, showPopup } from '../pageFunctions.js';\r\nexport const initContact = () => {\r\n\tconst contactNameInput = document.querySelector('.contact-name-input');\r\n\tconst contactEmailInput = document.querySelector('.contact-email-input');\r\n\tconst contactMsgTextaera = document.querySelector('.contact-msg');\r\n\tconst contactSendBtn = document.querySelector('.contact-send-btn');\r\n\tconst contactErrorName = document.querySelector('.contact-error-name');\r\n\tconst contactErrorEmail = document.querySelector('.contact-error-email');\r\n\tconst contactErrorMsg = document.querySelector('.contact-error-msg');\r\n\tconst contactSuccessInfo = document.querySelector('.contact-success-info');\r\n\r\n\tconst sendMsg = async contactData => {\r\n\t\ttry {\r\n\t\t\t// Server URL\r\n\t\t\tconst response = await fetch('https://butlag.com/send_email.php', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(contactData),\r\n\t\t\t});\r\n\t\t\tconsole.log(JSON.stringify(contactData));\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tthrow new Error('Network is not responsing');\r\n\t\t\t}\r\n\t\t\t//\r\n\t\t\t// Uncomment when I'll be done with server setup\r\n\t\t\t//\r\n\t\t\tshowPopup(contactSuccessInfo);\r\n\t\t\tcontactNameInput.value = '';\r\n\t\t\tcontactEmailInput.value = '';\r\n\t\t\tcontactMsgTextaera.value = '';\r\n\r\n\t\t\tconst result = await response.json();\r\n\t\t\tconsole.log('sent', result);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error during sending catch', error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst validAndSend = () => {\r\n\t\tvalidName(contactNameInput, contactErrorName);\r\n\t\tvalidEmail(contactEmailInput, contactErrorEmail);\r\n\t\tvalidMsg(contactMsgTextaera, contactErrorMsg);\r\n\t\tif (\r\n\t\t\tcontactErrorName.textContent === '' &&\r\n\t\t\tcontactErrorMsg.textContent === '' &&\r\n\t\t\tcontactErrorEmail.textContent === ''\r\n\t\t) {\r\n\t\t\tconst contactData = {\r\n\t\t\t\tname: contactNameInput.value,\r\n\t\t\t\temail: contactEmailInput.value,\r\n\t\t\t\tmessage: contactMsgTextaera.value,\r\n\t\t\t\ttimestamp: new Date().toISOString(),\r\n\t\t\t};\r\n\t\t\tsendMsg(contactData);\r\n\t\t}\r\n\t};\r\n\r\n\tcontactSendBtn.addEventListener('click', event => {\r\n\t\tevent.preventDefault();\r\n\t\tvalidAndSend();\r\n\t});\r\n\r\n\tclosePopup('.contact-success-info');\r\n};\r\n","export const initPageFunctions = () => {\r\n\tconst chevronDown = document.querySelector('.chevron-down');\r\n\tconst aboutSection = document.querySelector('#about');\r\n\tconst footerYear = document.querySelector('.footer__year');\r\n\r\n\tconst moveToSection = () => {\r\n\t\taboutSection.scrollIntoView();\r\n\t};\r\n\r\n\tconst getYear = () => {\r\n\t\tconst year = new Date().getFullYear();\r\n\t\tfooterYear.textContent = year;\r\n\t};\r\n\tgetYear();\r\n\tchevronDown.addEventListener('click', moveToSection);\r\n};\r\n\r\nexport function closePopup(ancestorClass, redirect = false, href) {\r\n\tconst closeBtns = document.querySelectorAll('.close-btn');\r\n\tcloseBtns.forEach(function (button) {\r\n\t\tbutton.addEventListener('click', function () {\r\n\t\t\tconst ancestor = this.closest(ancestorClass);\r\n\t\t\tif (ancestor) {\r\n\t\t\t\tancestor.style.opacity = '0';\r\n\t\t\t\tancestor.style.visibility = 'hidden';\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tancestor.style.display = 'none';\r\n\t\t\t\t\tdocument.body.style.overflow = 'visible';\r\n\t\t\t\t\tif (redirect && href) {\r\n\t\t\t\t\t\twindow.location.href = `${href}`;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 100);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\nexport const showPopup = popupClass => {\r\n\tpopupClass.style.display = 'flex';\r\n\tsetTimeout(() => {\r\n\t\tpopupClass.style.opacity = '1';\r\n\t\tpopupClass.style.visibility = 'visible';\r\n\t}, 100);\r\n\tdocument.body.style.overflow = 'hidden';\r\n};\r\n\r\nexport const debounce = (func, wait) => {\r\n\tlet timeout;\r\n\treturn function (...args) {\r\n\t\tconst context = this;\r\n\r\n\t\tconst later = () => {\r\n\t\t\tclearTimeout(timeout);\r\n\t\t\tfunc.apply(context, args);\r\n\t\t};\r\n\t\tclearTimeout(timeout);\r\n\t\ttimeout = setTimeout(later, wait);\r\n\t};\r\n};\r\n"]}